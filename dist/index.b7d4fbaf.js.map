{"mappings":"kpBAsBA,IAAAA,EACAC,E,iFArBA,IAAIC,EAAU,CAAC,EAoBfF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,GAElC,EAaAL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,CACT,C,ICpBAE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,iG,MCAzDC,EAAiB,IAAAC,IAAoBL,EAAA,SAAAM,QAA6C,SAAAC,OAAAC,KAAAC,KAAUC,WCI5F,MAAMC,EAAkBC,SAASC,cAAc,WAyBzCC,EAAaC,iBACjB,IAGE,IAFWC,OAAOC,SAASC,KAAKC,MAAM,GAE7B,QAfS,SAAUC,GAC9B,MAAMC,EAAS,kDAEAC,EAAAlB,4CAIfgB,EAASG,UAAY,GACrBH,EAASI,mBAAmB,aAAcH,EAC5C,CAQII,CAAcd,GAEd,MAAMe,QAAYC,MAChB,sDAOF,GALAC,QAAQC,IAAIH,GACZE,QAAQC,IAAI,OACZD,QAAQC,IAAI,gBAGPH,EAAII,GAAI,MAAM,IAAI/B,MAAM,GAAGgC,KAAKC,YAAYN,EAAIO,WAErD,IAAIC,OAAEA,GAAWH,KAAKA,KACtBG,EAAS,CACPrC,GAAIqC,EAAOrC,GACXsC,MAAOD,EAAOC,MACdC,UAAWF,EAAOE,UAClBC,UAAWH,EAAOI,WAClBC,MAAOL,EAAOM,UACdC,SAAUP,EAAOO,SACjBC,YAAaR,EAAOS,aACpBC,YAAaV,EAAOU,aAItB,MAAMvB,EAAS,gDACHa,EAAOK,eAAeL,EAAOC,8EAE/BD,EAAOC,sKAOAb,EAAAlB,yGAGb8B,EAAOQ,mLAMMpB,EAAAlB,wGAGb8B,EAAOO,2NAOUnB,EAAAlB,yKAKAkB,EAAAlB,2KAQJkB,EAAAlB,6HAKAkB,EAAAlB,kNAQf8B,EAAOU,YACNC,KAAIC,GACI,yFAEMxB,EAAAlB,4EAEiB0C,EAAIC,gGAELD,EAAIE,yBAC/BF,EAAIG,yCAIPC,KAAK,+OAQJhB,EAAOE,+IAMDF,EAAOG,kIAKAf,EAAAlB,gEAIjBO,EAAgBY,UAAY,GAC5BZ,EAAgBa,mBAAmB,aAAcH,EACnD,CAAE,MAAO8B,GACPvB,QAAQC,IAAIsB,EACd,CACF,EACArC,IAEA,CAAC,aAAc,QAAQsC,SAAQC,GAAMrC,OAAOsC,iBAAiBD,EAAIvC","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-d3c6714a85c3593f.js","node_modules/@parcel/runtime-js/lib/runtime-786e1fe4b788c342.js","src/js/controller.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"f9fpV\\\":\\\"index.b7d4fbaf.js\\\",\\\"eyyUD\\\":\\\"icons.c14567a0.svg\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"eyyUD\")).toString();","import icons from 'url:../img/icons.svg';\n// import '/core-js/stable';\n// import '/regenerator-runtime/runtime';\n\nconst recipeContainer = document.querySelector('.recipe');\n\nconst timeout = function (s) {\n  return new Promise(function (_, reject) {\n    setTimeout(function () {\n      reject(new Error(`Request took too long! Timeout after ${s} second`));\n    }, s * 1000);\n  });\n};\n\n// https://forkify-api.herokuapp.com/v2\n\n///////////////////////////////////////\n\nconst renderSpinner = function (parentEl) {\n  const markup = `<div class=\"spinner\">\n  <svg>\n    <use href=\"${icons}#icon-loader\"></use>\n  </svg>\n</div> `;\n\n  parentEl.innerHTML = '';\n  parentEl.insertAdjacentHTML('afterbegin', markup);\n};\n\nconst showRecipe = async function () {\n  try {\n    const id = window.location.hash.slice(1);\n\n    if (!id) return;\n    // Loading recipe\n    renderSpinner(recipeContainer);\n\n    const res = await fetch(\n      'https://forkify-api.herokuapp.com/v2/recipes/${id}'\n    );\n    console.log(res);\n    console.log('res');\n    console.log('random text');\n    // const data = await res.json();\n\n    if (!res.ok) throw new Error(`${data.message} (${res.status})`);\n\n    let { recipe } = data.data;\n    recipe = {\n      id: recipe.id,\n      title: recipe.title,\n      publisher: recipe.publisher,\n      sourceUrl: recipe.source_url,\n      image: recipe.image_url,\n      servings: recipe.servings,\n      cookingTime: recipe.cooking_time,\n      ingredients: recipe.ingredients,\n    };\n\n    // rendering recipe\n    const markup = ` <figure class=\"recipe__fig\">\n    <img src=\"${recipe.image}\" alt=\"${recipe.title}\" class=\"recipe__img\" />\n    <h1 class=\"recipe__title\">\n      <span>${recipe.title}</span>\n    </h1>\n  </figure>\n\n  <div class=\"recipe__details\">\n    <div class=\"recipe__info\">\n      <svg class=\"recipe__info-icon\">\n        <use href=\"${icons}#icon-clock\"></use>\n      </svg>\n      <span class=\"recipe__info-data recipe__info-data--minutes\">${\n        recipe.cookingTime\n      }</span>\n      <span class=\"recipe__info-text\">minutes</span>\n    </div>\n    <div class=\"recipe__info\">\n      <svg class=\"recipe__info-icon\">\n        <use href=\"${icons}#icon-users\"></use>\n      </svg>\n      <span class=\"recipe__info-data recipe__info-data--people\">${\n        recipe.servings\n      } </span>\n      <span class=\"recipe__info-text\">servings</span>\n\n      <div class=\"recipe__info-buttons\">\n        <button class=\"btn--tiny btn--increase-servings\">\n          <svg>\n            <use href=\"${icons}#icon-minus-circle\"></use>\n          </svg>\n        </button>\n        <button class=\"btn--tiny btn--increase-servings\">\n          <svg>\n            <use href=\"${icons}#icon-plus-circle\"></use>\n          </svg>\n        </button>\n      </div>\n    </div>\n\n    <div class=\"recipe__user-generated\">\n      <svg>\n        <use href=\"${icons}#icon-user\"></use>\n      </svg>\n    </div>\n    <button class=\"btn--round\">\n      <svg class=\"\">\n        <use href=\"${icons}#icon-bookmark-fill\"></use>\n      </svg>\n    </button>\n  </div>\n\n  <div class=\"recipe__ingredients\">\n    <h2 class=\"heading--2\">Recipe ingredients</h2>\n    <ul class=\"recipe__ingredient-list\">\n    ${recipe.ingredients\n      .map(ing => {\n        return `<li class=\"recipe__ingredient\">\n      <svg class=\"recipe__icon\">\n        <use href=\"${icons}#icon-check\"></use>\n      </svg>\n      <div class=\"recipe__quantity\">${ing.quantity} </div>\n      <div class=\"recipe__description\">\n        <span class=\"recipe__unit\">${ing.unit} </span>\n        ${ing.description}\n      </div>\n    </li>`;\n      })\n      .join('')}\n  </div>\n\n  <div class=\"recipe__directions\">\n    <h2 class=\"heading--2\">How to cook it</h2>\n    <p class=\"recipe__directions-text\">\n      This recipe was carefully designed and tested by\n      <span class=\"recipe__publisher\">${\n        recipe.publisher\n      }</span>. Please check out\n      directions at their website.\n    </p>\n    <a\n      class=\"btn--small recipe__btn\"\n      href=\"${recipe.sourceUrl} \"\n      target=\"_blank\"\n    >\n      <span>Directions</span>\n      <svg class=\"search__icon\">\n        <use href=\"${icons}#icon-arrow-right\"></use>\n      </svg>\n    </a>\n  </div>`;\n    recipeContainer.innerHTML = '';\n    recipeContainer.insertAdjacentHTML('afterbegin', markup);\n  } catch (err) {\n    console.log(err);\n  }\n};\nshowRecipe();\n\n['hashChange', 'load'].forEach(ev => window.addEventListener(ev, showRecipe));\n// window.addEventListener('hashChange', showRecipe);\n// window.addEventListener('load', showRecipe);\n"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$d981731ada74638f$exports","URL","resolve","import","meta","url","toString","$f50bd1f2915ed0f2$var$recipeContainer","document","querySelector","$f50bd1f2915ed0f2$var$showRecipe","async","window","location","hash","slice","parentEl","markup","$parcel$interopDefault","innerHTML","insertAdjacentHTML","$f50bd1f2915ed0f2$var$renderSpinner","res","fetch","console","log","ok","data","message","status","recipe","title","publisher","sourceUrl","source_url","image","image_url","servings","cookingTime","cooking_time","ingredients","map","ing","quantity","unit","description","join","err","forEach","ev","addEventListener"],"version":3,"file":"index.b7d4fbaf.js.map"}